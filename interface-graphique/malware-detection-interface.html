<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Machine Éthique - Détection de Malware</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00d4ff, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .malware-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .malware-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .malware-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
        }

        .malware-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #ffa500, #ffff00, #00ff00);
        }

        .malware-card.ransomware::before {
            background: #ff6b6b;
        }

        .malware-card.spyware::before {
            background: #ffa500;
        }

        .malware-card.adware::before {
            background: #ffff00;
        }

        .malware-card.trojan::before {
            background: #ff4757;
        }

        .malware-card.worm::before {
            background: #ff6348;
        }

        .malware-card.rootkit::before {
            background: #ff3838;
        }

        .malware-card.keylogger::before {
            background: #ff9ff3;
        }

        .malware-card.bot::before {
            background: #54a0ff;
        }

        .malware-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .malware-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .malware-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .malware-subtitle {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .malware-status {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-top: 10px;
        }

        .status-safe {
            background: #00d4aa;
            color: #000;
        }

        .status-warning {
            background: #ffa500;
            color: #000;
        }

        .status-danger {
            background: #ff6b6b;
            color: #fff;
        }

        .status-critical {
            background: #ff3838;
            color: #fff;
        }

        .control-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .control-panel h2 {
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #00d4aa, #00a085);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ffa500, #ff8c00);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff6b6b, #ff4757);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .scan-progress {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0099cc);
            width: 0%;
            transition: width 0.3s ease;
        }

        .status-display {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .status-item {
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .status-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .status-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .threat-log {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            max-height: 400px;
            overflow-y: auto;
        }

        .log-entry {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .log-entry.info {
            background: rgba(0, 212, 255, 0.1);
            border-left-color: #00d4ff;
        }

        .log-entry.warning {
            background: rgba(255, 165, 0, 0.1);
            border-left-color: #ffa500;
        }

        .log-entry.danger {
            background: rgba(255, 107, 107, 0.1);
            border-left-color: #ff6b6b;
        }

        .log-entry.critical {
            background: rgba(255, 56, 56, 0.1);
            border-left-color: #ff3838;
        }

        .log-time {
            font-size: 0.8em;
            opacity: 0.7;
        }

        .log-message {
            margin-top: 5px;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .scanning::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00d4ff, transparent);
            animation: scan 2s infinite;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: #00d4aa;
        }

        .notification.warning {
            background: #ffa500;
        }

        .notification.danger {
            background: #ff6b6b;
        }

        .notification.critical {
            background: #ff3838;
        }

        .malware-actions {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn-test {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #00d4ff, #0099cc);
            color: white;
            flex: 1;
            min-width: 120px;
        }

        .btn-simulate {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #ffa500, #ff8c00);
            color: white;
            flex: 1;
            min-width: 120px;
        }

        .btn-test:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.3);
        }

        .btn-simulate:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 165, 0, 0.3);
        }

        .test-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }

        .test-panel h2 {
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .test-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .test-item h3 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .test-item button {
            width: 100%;
            margin-top: 10px;
        }

        .log-entry.success {
            background: rgba(0, 212, 170, 0.1);
            border-left-color: #00d4aa;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- En-tête -->
        <div class="header">
            <h1>🛡️ Détection de Malware</h1>
            <p>Système de protection avancée contre tous types de menaces</p>
        </div>

        <!-- Panneau de contrôle -->
        <div class="control-panel">
            <h2>🎮 Contrôles de Sécurité</h2>
            <div class="button-group">
                <button class="btn btn-primary" onclick="startFullScan()">
                    🔍 Scan Complet
                </button>
                <button class="btn btn-success" onclick="startRealTimeProtection()">
                    🛡️ Protection Temps Réel
                </button>
                <button class="btn btn-warning" onclick="scanSpecificMalware()">
                    🎯 Scan Spécifique
                </button>
                <button class="btn btn-danger" onclick="emergencyQuarantine()">
                    🚨 Quarantaine d'Urgence
                </button>
            </div>

            <!-- Barre de progression -->
            <div class="scan-progress" id="scanProgress">
                <h3>Scan en cours...</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <p id="scanStatus">Initialisation...</p>
            </div>
        </div>

        <!-- Panneau de test des types de malware -->
        <div class="test-panel">
            <h2>🧪 Tests de Détection par Type</h2>
            <p style="margin-bottom: 20px; opacity: 0.9;">Testez la détection de chaque type de malware individuellement</p>
            <div class="test-grid">
                <div class="test-item">
                    <h3>🔒 Ransomware</h3>
                    <button class="btn-test" onclick="testMalwareDetection('RANSOMWARE')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('RANSOMWARE')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>👁️ Spyware</h3>
                    <button class="btn-test" onclick="testMalwareDetection('SPYWARE')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('SPYWARE')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>📢 Adware</h3>
                    <button class="btn-test" onclick="testMalwareDetection('ADWARE')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('ADWARE')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>🐎 Cheval de Troie</h3>
                    <button class="btn-test" onclick="testMalwareDetection('TROJAN')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('TROJAN')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>🪱 Ver</h3>
                    <button class="btn-test" onclick="testMalwareDetection('WORM')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('WORM')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>👻 Rootkit</h3>
                    <button class="btn-test" onclick="testMalwareDetection('ROOTKIT')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('ROOTKIT')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>⌨️ Enregistreur de frappe</h3>
                    <button class="btn-test" onclick="testMalwareDetection('KEYLOGGER')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('KEYLOGGER')">
                        Simuler Menace
                    </button>
                </div>
                <div class="test-item">
                    <h3>🤖 Bot</h3>
                    <button class="btn-test" onclick="testMalwareDetection('BOT')">
                        Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('BOT')">
                        Simuler Menace
                    </button>
                </div>
            </div>
        </div>

        <!-- Statut du système -->
        <div class="status-display">
            <h2>📊 Statut de Protection</h2>
            <div class="status-grid">
                <div class="status-item">
                    <div class="status-number" id="activeThreats">0</div>
                    <div class="status-label">Menaces Actives</div>
                </div>
                <div class="status-item">
                    <div class="status-number" id="signaturesLoaded">14</div>
                    <div class="status-label">Signatures Chargées</div>
                </div>
                <div class="status-item">
                    <div class="status-number" id="lastScan">--</div>
                    <div class="status-label">Dernier Scan</div>
                </div>
                <div class="status-item">
                    <div class="status-number" id="protectionLevel">95%</div>
                    <div class="status-label">Niveau de Protection</div>
                </div>
            </div>
        </div>

        <!-- Grille des types de malware -->
        <div class="malware-grid">
            <!-- Ransomware -->
            <div class="malware-card ransomware" id="ransomwareCard">
                <div class="malware-header">
                    <div class="malware-icon">🔒</div>
                    <div>
                        <div class="malware-title">Ransomware</div>
                        <div class="malware-subtitle">Chiffrement de fichiers</div>
                    </div>
                </div>
                <p>Malware qui chiffre les fichiers et demande une rançon pour les déchiffrer.</p>
                <div class="malware-status status-safe" id="ransomwareStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('RANSOMWARE')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('RANSOMWARE')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Spyware -->
            <div class="malware-card spyware" id="spywareCard">
                <div class="malware-header">
                    <div class="malware-icon">👁️</div>
                    <div>
                        <div class="malware-title">Spyware</div>
                        <div class="malware-subtitle">Surveillance secrète</div>
                    </div>
                </div>
                <p>Logiciel espion qui collecte des informations sans consentement.</p>
                <div class="malware-status status-safe" id="spywareStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('SPYWARE')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('SPYWARE')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Adware -->
            <div class="malware-card adware" id="adwareCard">
                <div class="malware-header">
                    <div class="malware-icon">📢</div>
                    <div>
                        <div class="malware-title">Adware</div>
                        <div class="malware-subtitle">Publicités intrusives</div>
                    </div>
                </div>
                <p>Logiciel qui affiche des publicités non désirées.</p>
                <div class="malware-status status-safe" id="adwareStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('ADWARE')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('ADWARE')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Cheval de Troie -->
            <div class="malware-card trojan" id="trojanCard">
                <div class="malware-header">
                    <div class="malware-icon">🐎</div>
                    <div>
                        <div class="malware-title">Cheval de Troie</div>
                        <div class="malware-subtitle">Backdoor caché</div>
                    </div>
                </div>
                <p>Malware qui se fait passer pour un logiciel légitime.</p>
                <div class="malware-status status-safe" id="trojanStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('TROJAN')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('TROJAN')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Ver -->
            <div class="malware-card worm" id="wormCard">
                <div class="malware-header">
                    <div class="malware-icon">🪱</div>
                    <div>
                        <div class="malware-title">Ver</div>
                        <div class="malware-subtitle">Auto-propagation</div>
                    </div>
                </div>
                <p>Malware qui se propage automatiquement sur le réseau.</p>
                <div class="malware-status status-safe" id="wormStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('WORM')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('WORM')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Rootkit -->
            <div class="malware-card rootkit" id="rootkitCard">
                <div class="malware-header">
                    <div class="malware-icon">👻</div>
                    <div>
                        <div class="malware-title">Rootkit</div>
                        <div class="malware-subtitle">Dissimulation avancée</div>
                    </div>
                </div>
                <p>Malware qui se cache profondément dans le système.</p>
                <div class="malware-status status-safe" id="rootkitStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('ROOTKIT')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('ROOTKIT')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Enregistreur de frappe -->
            <div class="malware-card keylogger" id="keyloggerCard">
                <div class="malware-header">
                    <div class="malware-icon">⌨️</div>
                    <div>
                        <div class="malware-title">Enregistreur de frappe</div>
                        <div class="malware-subtitle">Capture de frappes</div>
                    </div>
                </div>
                <p>Malware qui enregistre toutes les frappes clavier.</p>
                <div class="malware-status status-safe" id="keyloggerStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('KEYLOGGER')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('KEYLOGGER')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>

            <!-- Bot -->
            <div class="malware-card bot" id="botCard">
                <div class="malware-header">
                    <div class="malware-icon">🤖</div>
                    <div>
                        <div class="malware-title">Bot</div>
                        <div class="malware-subtitle">Machine zombie</div>
                    </div>
                </div>
                <p>Malware qui transforme l'ordinateur en machine contrôlée.</p>
                <div class="malware-status status-safe" id="botStatus">Sécurisé</div>
                <div class="malware-actions">
                    <button class="btn-test" onclick="testMalwareDetection('BOT')">
                        🧪 Tester Détection
                    </button>
                    <button class="btn-simulate" onclick="simulateMalwareThreat('BOT')">
                        ⚠️ Simuler Menace
                    </button>
                </div>
            </div>
        </div>

        <!-- Journal des menaces -->
        <div class="threat-log">
            <h2>📋 Journal des Menaces</h2>
            <div id="threatLog">
                <div class="log-entry info">
                    <div class="log-time">[Système] - Initialisation terminée</div>
                    <div class="log-message">Système de détection de malware opérationnel</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div id="notificationContainer"></div>

    <script>
        // Variables globales
        let isScanning = false;
        let realTimeProtection = false;
        let activeThreats = 0;
        let scanProgress = 0;

        // Types de malware
        const malwareTypes = [
            'RANSOMWARE', 'SPYWARE', 'ADWARE', 'TROJAN', 
            'WORM', 'ROOTKIT', 'KEYLOGGER', 'BOT'
        ];

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus();
            addLogEntry('info', 'Interface de détection de malware chargée');
        });

        // Fonction de scan complet
        async function startFullScan() {
            if (isScanning) {
                showNotification('warning', 'Un scan est déjà en cours');
                return;
            }

            isScanning = true;
            showScanProgress(true);
            addLogEntry('info', 'Démarrage du scan complet du système');

            // Simuler le scan
            for (let i = 0; i <= 100; i += 5) {
                await new Promise(resolve => setTimeout(resolve, 200));
                updateScanProgress(i);
                
                if (i === 25) {
                    addLogEntry('info', 'Scan des fichiers système...');
                } else if (i === 50) {
                    addLogEntry('info', 'Analyse des processus...');
                } else if (i === 75) {
                    addLogEntry('info', 'Vérification du registre...');
                } else if (i === 100) {
                    addLogEntry('success', 'Scan terminé - Aucune menace détectée');
                    showNotification('success', 'Scan terminé avec succès');
                }
            }

            isScanning = false;
            showScanProgress(false);
            updateStatus();
        }

        // Protection en temps réel
        function startRealTimeProtection() {
            realTimeProtection = !realTimeProtection;
            
            if (realTimeProtection) {
                addLogEntry('success', 'Protection en temps réel activée');
                showNotification('success', 'Protection en temps réel activée');
                document.querySelector('.btn-success').textContent = '🛡️ Désactiver Protection';
                
                // Simuler la détection en temps réel
                setInterval(() => {
                    if (realTimeProtection && Math.random() > 0.95) {
                        simulateThreatDetection();
                    }
                }, 10000);
            } else {
                addLogEntry('warning', 'Protection en temps réel désactivée');
                showNotification('warning', 'Protection en temps réel désactivée');
                document.querySelector('.btn-success').textContent = '🛡️ Protection Temps Réel';
            }
        }

        // Scan spécifique
        function scanSpecificMalware() {
            const malwareType = malwareTypes[Math.floor(Math.random() * malwareTypes.length)];
            addLogEntry('info', `Scan spécifique pour ${malwareType}...`);
            
            setTimeout(() => {
                if (Math.random() > 0.8) {
                    simulateThreatDetection(malwareType);
                } else {
                    addLogEntry('success', `Aucune menace ${malwareType} détectée`);
                }
            }, 2000);
        }

        // Quarantaine d'urgence
        function emergencyQuarantine() {
            addLogEntry('critical', '🚨 QUARANTAINE D\'URGENCE ACTIVÉE');
            showNotification('critical', 'Quarantaine d\'urgence activée');
            
            // Simuler la neutralisation
            setTimeout(() => {
                addLogEntry('success', 'Toutes les menaces ont été neutralisées');
                activeThreats = 0;
                updateStatus();
                updateAllMalwareStatus('safe');
            }, 3000);
        }

        // Simulation de détection de menace
        function simulateThreatDetection(type = null) {
            const malwareType = type || malwareTypes[Math.random() * malwareTypes.length];
            const severity = Math.random() > 0.7 ? 'critical' : Math.random() > 0.5 ? 'danger' : 'warning';
            
            activeThreats++;
            addLogEntry(severity, `🚨 MENACE DÉTECTÉE: ${malwareType}`);
            updateMalwareStatus(malwareType.toLowerCase(), severity);
            updateStatus();
            
            showNotification(severity, `Menace ${malwareType} détectée !`);
        }

        // Mise à jour de la barre de progression
        function updateScanProgress(percent) {
            scanProgress = percent;
            document.getElementById('progressFill').style.width = percent + '%';
            document.getElementById('scanStatus').textContent = `Progression: ${percent}%`;
        }

        // Affichage/masquage de la barre de progression
        function showScanProgress(show) {
            document.getElementById('scanProgress').style.display = show ? 'block' : 'none';
        }

        // Mise à jour du statut
        function updateStatus() {
            document.getElementById('activeThreats').textContent = activeThreats;
            document.getElementById('lastScan').textContent = new Date().toLocaleTimeString();
            document.getElementById('protectionLevel').textContent = 
                realTimeProtection ? '95%' : '75%';
        }

        // Mise à jour du statut d'un malware
        function updateMalwareStatus(type, status) {
            const statusElement = document.getElementById(type + 'Status');
            const card = document.getElementById(type + 'Card');
            
            statusElement.className = `malware-status status-${status}`;
            
            switch(status) {
                case 'safe':
                    statusElement.textContent = 'Sécurisé';
                    card.classList.remove('pulse', 'scanning');
                    break;
                case 'warning':
                    statusElement.textContent = 'Attention';
                    card.classList.add('pulse');
                    break;
                case 'danger':
                    statusElement.textContent = 'Danger';
                    card.classList.add('pulse');
                    break;
                case 'critical':
                    statusElement.textContent = 'CRITIQUE';
                    card.classList.add('pulse', 'scanning');
                    break;
            }
        }

        // Mise à jour de tous les statuts
        function updateAllMalwareStatus(status) {
            malwareTypes.forEach(type => {
                updateMalwareStatus(type.toLowerCase(), status);
            });
        }

        // Ajout d'une entrée dans le journal
        function addLogEntry(type, message) {
            const log = document.getElementById('threatLog');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            
            const time = new Date().toLocaleTimeString();
            entry.innerHTML = `
                <div class="log-time">[${time}] - ${type.toUpperCase()}</div>
                <div class="log-message">${message}</div>
            `;
            
            log.insertBefore(entry, log.firstChild);
            
            // Limiter le nombre d'entrées
            if (log.children.length > 50) {
                log.removeChild(log.lastChild);
            }
        }

        // Affichage des notifications
        function showNotification(type, message) {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            container.appendChild(notification);
            
            // Afficher la notification
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            // Masquer la notification
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    container.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Détection automatique de menaces (simulation)
        setInterval(() => {
            if (realTimeProtection && Math.random() > 0.98) {
                simulateThreatDetection();
            }
        }, 30000);

        // Mise à jour périodique du statut
        setInterval(() => {
            updateStatus();
        }, 5000);

        // ===== FONCTIONS DE TEST SPÉCIFIQUES =====

        /**
         * Tester la détection d'un type de malware spécifique
         */
        function testMalwareDetection(malwareType) {
            addLogEntry('info', `🧪 Test de détection pour ${malwareType}...`);
            showNotification('info', `Test de détection ${malwareType} en cours`);
            
            // Simuler le test de détection
            setTimeout(() => {
                const detectionSuccess = Math.random() > 0.2; // 80% de succès
                
                if (detectionSuccess) {
                    addLogEntry('success', `✅ Détection ${malwareType} : SYSTÈME OPÉRATIONNEL`);
                    showNotification('success', `Détection ${malwareType} fonctionnelle`);
                    
                    // Mettre à jour le statut de la carte
                    updateMalwareStatus(malwareType.toLowerCase(), 'safe');
                } else {
                    addLogEntry('warning', `⚠️ Détection ${malwareType} : PROBLÈME DÉTECTÉ`);
                    showNotification('warning', `Problème de détection ${malwareType}`);
                    
                    // Simuler un problème de détection
                    updateMalwareStatus(malwareType.toLowerCase(), 'warning');
                }
            }, 2000);
        }

        /**
         * Simuler une menace de malware spécifique
         */
        function simulateMalwareThreat(malwareType) {
            addLogEntry('warning', `⚠️ Simulation de menace ${malwareType}...`);
            showNotification('warning', `Simulation menace ${malwareType}`);
            
            // Simuler la détection de menace
            setTimeout(() => {
                const threatLevel = Math.random();
                let severity, message, notificationType;
                
                if (threatLevel > 0.7) {
                    severity = 'critical';
                    message = `🚨 MENACE CRITIQUE ${malwareType} DÉTECTÉE !`;
                    notificationType = 'critical';
                } else if (threatLevel > 0.4) {
                    severity = 'danger';
                    message = `🚨 MENACE ${malwareType} DÉTECTÉE !`;
                    notificationType = 'danger';
                } else {
                    severity = 'warning';
                    message = `⚠️ Activité suspecte ${malwareType} détectée`;
                    notificationType = 'warning';
                }
                
                addLogEntry(severity, message);
                showNotification(notificationType, `Menace ${malwareType} simulée`);
                
                // Mettre à jour le statut et compter la menace
                updateMalwareStatus(malwareType.toLowerCase(), severity);
                activeThreats++;
                updateStatus();
                
                // Simuler la neutralisation automatique après 5 secondes
                setTimeout(() => {
                    addLogEntry('success', `✅ Menace ${malwareType} neutralisée automatiquement`);
                    showNotification('success', `Menace ${malwareType} neutralisée`);
                    
                    updateMalwareStatus(malwareType.toLowerCase(), 'safe');
                    activeThreats = Math.max(0, activeThreats - 1);
                    updateStatus();
                }, 5000);
                
            }, 1500);
        }

        /**
         * Test complet de tous les types de malware
         */
        function testAllMalwareTypes() {
            addLogEntry('info', '🧪 Démarrage du test complet de tous les types de malware...');
            showNotification('info', 'Test complet en cours');
            
            const types = ['RANSOMWARE', 'SPYWARE', 'ADWARE', 'TROJAN', 'WORM', 'ROOTKIT', 'KEYLOGGER', 'BOT'];
            let completedTests = 0;
            
            types.forEach((type, index) => {
                setTimeout(() => {
                    testMalwareDetection(type);
                    completedTests++;
                    
                    if (completedTests === types.length) {
                        setTimeout(() => {
                            addLogEntry('success', '✅ Test complet terminé - Tous les systèmes opérationnels');
                            showNotification('success', 'Test complet terminé');
                        }, 3000);
                    }
                }, index * 1000);
            });
        }

        /**
         * Simulation d'attaque multiple
         */
        function simulateMultipleThreats() {
            addLogEntry('critical', '🚨 SIMULATION D\'ATTAQUE MULTIPLE DÉMARRÉE');
            showNotification('critical', 'Attaque multiple simulée');
            
            const types = ['RANSOMWARE', 'SPYWARE', 'TROJAN', 'BOT'];
            
            types.forEach((type, index) => {
                setTimeout(() => {
                    simulateMalwareThreat(type);
                }, index * 2000);
            });
            
            // Activer la quarantaine automatique après 10 secondes
            setTimeout(() => {
                addLogEntry('critical', '🚨 QUARANTAINE AUTOMATIQUE ACTIVÉE');
                showNotification('critical', 'Quarantaine automatique activée');
                
                // Neutraliser toutes les menaces
                setTimeout(() => {
                    addLogEntry('success', '✅ Toutes les menaces ont été neutralisées');
                    showNotification('success', 'Toutes les menaces neutralisées');
                    
                    activeThreats = 0;
                    updateAllMalwareStatus('safe');
                    updateStatus();
                }, 3000);
            }, 10000);
        }

        // Ajouter les boutons de test global au panneau de contrôle
        document.addEventListener('DOMContentLoaded', function() {
            const buttonGroup = document.querySelector('.button-group');
            
            // Ajouter bouton de test complet
            const testAllButton = document.createElement('button');
            testAllButton.className = 'btn btn-primary';
            testAllButton.innerHTML = '🧪 Test Complet';
            testAllButton.onclick = testAllMalwareTypes;
            buttonGroup.appendChild(testAllButton);
            
            // Ajouter bouton de simulation multiple
            const simulateMultipleButton = document.createElement('button');
            simulateMultipleButton.className = 'btn btn-danger';
            simulateMultipleButton.innerHTML = '🚨 Test Attaque Multiple';
            simulateMultipleButton.onclick = simulateMultipleThreats;
            buttonGroup.appendChild(simulateMultipleButton);
        });
    </script>
</body>
</html> 